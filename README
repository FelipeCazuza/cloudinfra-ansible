# ğŸŒ AutomaÃ§Ã£o GLPI â€” CloudInfra

AutomaÃ§Ã£o completa do **deploy do GLPI** em ambiente multi-VM (bastion, app e banco de dados) utilizando **Ansible + Docker + Nginx**.

---

## ğŸ§± Arquitetura da SoluÃ§Ã£o

|   FunÃ§Ã£o         |           DescriÃ§Ã£o               | Tecnologia   |
|------------------|-----------------------------------|--------------|
| **Bastion**      |Servidor pÃºblico para acesso SSH (ProxyJump) e Reverse Proxy (Nginx) | Oracle Linux 8 + Nginx |
| **GLPI (App)**   | Container Docker com GLPI e Apache PHP | Docker Compose |
| **Banco**        | Servidor MariaDB dedicado (externo ao container) | MariaDB |
| **Rede privada** | Subnet privada com NAT configurado no Bastion | OCI NAT + Firewall |

---

## âš™ï¸ PrÃ©-requisitos

Antes de executar os playbooks, **ajuste as variÃ¡veis do ambiente local**:

1. **Defina os IPs dos servidores** no arquivo:
   ```bash
   inventory/hosts.ini

2. **Ajuste o caminho da chave SSH** no arquivo ansible.cfg
   ansible.cfg: private_key_file = 

3. **Verificar a conectividade**
   ansible -i inventory/hosts.ini CloudInfra -m ping

ğŸš€ ExecuÃ§Ã£o dos Playbooks
Ordem sugerida para instalaÃ§Ã£o e configuraÃ§Ã£o completa do ambiente GLPI:

ansible-playbook playbooks/install_docker.yml      # Instala o Docker no GLPI
ansible-playbook playbooks/install_mysql.yml       # Instala o MariaDB
ansible-playbook playbooks/configure_glpi_db.yml   # Cria banco e usuÃ¡rio do GLPI
ansible-playbook playbooks/deploy_glpi.yml         # Faz o deploy do container GLPI

Estrutura de Pastas

ansible/
â”œâ”€â”€ ansible.cfg
â”œâ”€â”€ inventory/
â”‚   â””â”€â”€ hosts.ini
â”œâ”€â”€ playbooks/
â”‚   â”œâ”€â”€ install_docker.yml
â”‚   â”œâ”€â”€ install_mysql.yml
â”‚   â”œâ”€â”€ configure_glpi_db.yml
â”‚   â”œâ”€â”€ deploy_glpi.yml
â”‚   â””â”€â”€ deploy_mysql.yml
â”œâ”€â”€ roles/
â”‚   â”œâ”€â”€ docker/
â”‚   â”‚   â”œâ”€â”€ files/
â”‚   â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â”‚   â””â”€â”€ docker-compose.yml
â”‚   â”‚   â””â”€â”€ tasks/main.yml
â”‚   â”œâ”€â”€ mysql/
â”‚   â”‚   â””â”€â”€ main.yml
â”‚   â””â”€â”€ nginx/
â”‚       â””â”€â”€ main.yml
â””â”€â”€ chave/ (nÃ£o versionada)

ğŸŒ Acesso Final
ApÃ³s o deploy, o GLPI estarÃ¡ disponÃ­vel via proxy reverso configurado no bastion:

http://IP-GLPI:8080
